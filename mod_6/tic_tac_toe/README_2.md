# Пользовательские модули и пакеты

Модули стандартной библиотеки пишут авторы Python
Внешние — сторонние разработчики. 
Собственные - пишет сам разработчик для личного использования

# Пользовательский модуль
Модуль в Python — это просто файл с кодом. Этот код можно импортировать в другие программы или модули. Модули помогают организовывать и разделять код проектов на логические блоки.

Создайте  новый файл `mymodule.py` в директории, где находится этот документ:
Перенести из файла game.py в файл mymodule.py класс с описанием игрового поля

```bash
# mymodule.py

class Board:
    def __init__(self):
        self.board = [[' ' for _ in range(3)] for _ in range(3)]

    def make_move(self, row, col, player):
        self.board[row][col] = player

    def display(self):
        for row in self.board:
            print('|'.join(row))
            print('-' * 5) 
```


Далее надо запустить программу из файла  `game.py`. Файл с основным кодом программы часто называют исполняемым скриптом.
```bash
# game.py

from parts import Board

game = Board()
game.display()
game.make_move(1, 1, 'X')
print('Ход сделан!')
game.display() 
```


# Коллекция модулей — это пакет
Модуль — это отдельный файл, который содержит переменные, функции, классы и другие компоненты. 

Пакет — это коллекция модулей, собранная в отдельной папке. Основная идея пакета — объединить в одну группу модули, которые выполняют схожие задачи или относятся к определённой области проекта. 

Чтобы Python понял, что перед ним пакет, а не просто папка, в корень папки нужно положить файл __init__.py. Так вы инициализируете пакет. 

Файл __init__.py может быть пустым или содержать, например, общие для всех модулей пакета импорты, переменные и константы.


# Пакет
В директории tic_tac_toe создайте папку gameparts/. В ней будут храниться модули, код из которых можно переиспользовать для создания простых игр.
Теперь превратите обычную папку в пакет — внутри каталога создайте файл __init__.py. Также переместите в каталог gameparts/ файл mymodule.py.

Добавьте в файл __init__.py общий для всех файлов пакета gameparts/ импорт следующих модулей:
```bash
from .parts import Board 
```


Далее, нужно заменить импорт в файле game.py на новый
```bash
from gameparts import Board
```


# Конструкция if __name__ == '__main__'
Конструкцию if __name__ == '__main__' обычно добавляют в исполняемый скрипт. Это условный оператор, который читается как «если скрипт запущен напрямую, выполни этот код». Код, который находится в теле этого условного оператора, должен исполняться только в том случае, если файл запущен напрямую как программа.

Код, описанный до условного оператора, можно импортировать и использовать в других файлах проекта. Работает это так:
1. когда интерпретатор Python выполняет программу, он устанавливает переменной __name__ значение '__main__', если программа запускается напрямую;
2. если же программа используется как модуль и импортируется в другую программу, то __name__ принимает имя модуля, то есть имя файла без расширения .py.

В итоге файл должен выглядеть так
```bash
# game.py

from gameparts import Board

# Вот новая функция.
def main():
    game = Board()
    game.display()
    game.make_move(1, 1, 'X')
    print('Ход сделан!')
    game.display()

# А вот вызов этой функции.
if __name__ == '__main__':
    main()
```